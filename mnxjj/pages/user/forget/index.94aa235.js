(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{625:function(t,e,n){"use strict";n.r(e);n(61);var o=n(157),r={data:function(){return{valid:!0,loading:!1,timer:null,disable:!1,count:null,form:{email:"",captcha:"",newPassword:"",newPasswords:""},passwordShow:!1,emailRules:[function(t){return!!t||"邮箱不能为空"},function(t){return/.+@.+\..+/.test(t)||"不是正确的邮箱"}],captchaRules:[function(t){return!!t||"验证码不能为空"}],newPasswordRules:[function(t){return!!t||"密码不能为空"},function(t){return t&&t.length>=7&&t.length<=20||"密码不能少于7大于20位"}]}},computed:{newPasswordsRules:function(){var t=this,e=[];return e.push((function(e){return e===t.form.newPassword||"两次输入密码不一致"})),e},shwoText:function(){return 0===this.count||null===this.count?"获取验证码":this.count+"秒后获取验证码"}},methods:{getCaptcha:function(){var t=this;if(/.+@.+\..+/.test(this.form.email)){this.timer||(this.count=60,this.disable=!1,this.timer=setInterval((function(){t.count>0&&t.count<=60?(t.count--,t.disable=!0):(t.disable=!1,clearInterval(t.timer),t.timer=null)}),1e3)),Object(o.f)(this.$axios,{email:this.form.email}).then((function(e){200===e.code&&t.$toast.show("请到邮箱查看验证码,没有找到请在垃圾箱找找",{duration:4e3})}))}else this.$toast.show("请输入正确邮箱")},changePassword:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,Object(o.b)(this.$axios,this.form).then((function(){t.$toast.show("修改成功请登录"),t.$router.replace({path:"/login"}),t.loading=!1})).catch((function(){t.loading=!1})))}},head:function(){return{title:"忘记密码"}}},l=n(46),c=n(54),d=n.n(c),w=n(223),f=n(562),h=n(579),m=n(67),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("v-form",{ref:"form",staticClass:"mx-auto pa-3 pt-sm-12",staticStyle:{"max-width":"500px"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("h1",{staticClass:"text-center"},[t._v("\n      忘记密码\n    ")]),t._v(" "),n("v-text-field",{attrs:{"append-icon":"mdi-email",rules:t.emailRules,label:"邮箱",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-fencing",rules:t.captchaRules,label:"验证码",required:""},on:{"click:append":function(e){t.passwordShow=!t.passwordShow}},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}}),t._v(" "),n("v-btn",{staticClass:"mt-3",attrs:{disabled:t.disable,text:""},on:{click:t.getCaptcha}},[t._v("\n        "+t._s(t.shwoText)+"\n      ")])],1),t._v(" "),n("v-text-field",{attrs:{"append-icon":t.passwordShow?"mdi-eye":"mdi-eye-off",type:t.passwordShow?"text":"password",rules:t.newPasswordRules,label:"新密码",required:""},on:{"click:append":function(e){t.passwordShow=!t.passwordShow}},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}}),t._v(" "),n("v-text-field",{attrs:{"append-icon":t.passwordShow?"mdi-eye":"mdi-eye-off",type:t.passwordShow?"text":"password",rules:t.newPasswordsRules,label:"再次输入新密码",required:""},on:{"click:append":function(e){t.passwordShow=!t.passwordShow}},model:{value:t.form.newPasswords,callback:function(e){t.$set(t.form,"newPasswords",e)},expression:"form.newPasswords"}}),t._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{color:"success",loading:t.loading},on:{click:t.changePassword}},[t._v("\n      确认\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:w.a,VCard:f.a,VForm:h.a,VTextField:m.a})}}]);