(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{553:function(t,e,r){"use strict";r(191),r(14);var n={props:{order:{required:!1,type:Number,default:0},tid:{required:!1,type:Number,default:1},search:{required:!1,type:Boolean,default:!1},ky:{required:!1,type:String,default:void 0},notShowOrder:{required:!1,type:Boolean,default:!1}},data:function(){return{displayList:[{label:"单列",value:12},{label:"双列",value:6}]}},computed:{_order:{get:function(){return this.order},set:function(t){this.$emit("order",t)}},_tid:{get:function(){return this.tid},set:function(t){this.$emit("tid",t)}},_search:{get:function(){return this.search},set:function(t){this.$emit("search",t)}},_ky:{get:function(){return this.ky},set:function(t){this.$emit("ky",t)}}},methods:{changeDisplay:function(t){this.$cookies.set("display",t,{path:"/",maxAge:2592e3}),this.$store.commit("web/SET_DISPLAY",t)}}},o=r(38),d=r(47),c=r.n(d),l=r(192),m=r(183),h=r(184),v=r(114),f=r(72),y=r(515),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[t.notShowOrder?t._e():r("div",{staticClass:"mx-3 my-3"},[r("v-btn",{attrs:{dense:"",text:"",disabled:0===t._order,link:"",nuxt:"",to:t.search?{name:"search",query:{o:0,ky:t._ky}}:{name:"t-tid",params:{tid:t._tid},query:{o:0}}}},[r("v-icon",{style:{color:0===t._order?"pink":""}},[t._v("\n        mdi-autorenew\n      ")]),t._v(" "),r("span",{style:{color:0===t._order?"pink":""}},[t._v("\n        最新\n      ")])],1),t._v(" "),r("v-btn",{attrs:{dense:"",text:"",color:1===t._order?"pink":"",disabled:1===t._order,link:"",nuxt:"",to:t.search?{name:"search",query:{o:1,ky:t._ky}}:{name:"t-tid",params:{tid:t._tid},query:{o:1}}}},[r("v-icon",{style:{color:1===t._order?"pink":""}},[t._v("\n        mdi-fire\n      ")]),t._v(" "),r("span",{style:{color:1===t._order?"pink":""}},[t._v("\n        最火\n      ")])],1)],1),t._v(" "),r("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"ma-3 hidden-sm-and-up",attrs:{icon:""}},"v-btn",o,!1),n),[r("v-icon",[t._v("mdi-backburger")])],1)]}}])},[t._v(" "),r("v-list",t._l(t.displayList,(function(e){return r("v-list-item",{key:e.value,on:{click:function(r){return t.changeDisplay(e.value)}}},[r("v-list-item-title",[t._v(t._s(e.label))])],1)})),1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:l.a,VIcon:m.a,VList:h.a,VListItem:v.a,VListItemTitle:f.c,VMenu:y.a})},584:function(t,e,r){"use strict";r.r(e);r(14),r(83);var n=r(22),o=r(193),d=r(553),c=r(552),l=r(544),m=r(156),h={components:{Erro:o.a,Sort:d.a,AlbumList:c.a,Hot:l.a},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,d,c,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route,n=r.params,o=r.query,d={t:Number(n.tid),pg:Number(o.pg)?Number(o.pg):1,o:o.o?Number(o.o):0},e.next=4,Object(m.c)(t.$axios,d);case 4:if(c=e.sent,0!==(data=c.data).records.length){e.next=9;break}throw new Error("网页未找到");case 9:t.data=data,t.pageQuery=d,t.breadcrumbs=[{text:"主页",disabled:!1,href:"/"},{text:data.records[0].typeName,disabled:!0,href:"/t/"+data.records[0].tid}],t.title=data.records[0].typeName;case 13:case"end":return e.stop()}}),e)})))()},data:function(){return{data:{},pageQuery:{},breadcrumbs:[],title:""}},watch:{"$route.query":function(t,e){!1===this._inactive&&JSON.stringify(t)!==JSON.stringify(e)&&this.$fetch()}},methods:{setOrder:function(t){this.pageQuery.o=t},setT:function(t){this.pageQuery.t=t}},validate:function(t){var e=t.params,r=t.query,n=/^\d+$/,o=n.test(r.pg),d=n.test(r.o),c=n.test(e.tid);return r.pg&&r.o?o&&d&&c:r.pg?o&&c:r.o?c&&d:c},head:function(){return{title:this.title}}},v=r(38),f=r(47),y=r.n(f),_=r(534),k=r(511),w=r(573),$=r(575),x=r(576),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",[r("v-col",{attrs:{lg:"9",md:"12"}},[r("v-skeleton-loader",{attrs:{loading:t.$fetchState.pending,transition:"scale-transition",type:"image"}},[t.$fetchState.error?r("erro",{attrs:{message:t.$fetchState.error.message}}):r("v-card",[r("v-breadcrumbs",{staticClass:"hidden-sm-and-down",attrs:{items:t.breadcrumbs}}),t._v(" "),r("sort",{attrs:{order:t.pageQuery.o,tid:t.pageQuery.t},on:{order:t.setOrder,tid:t.setT}}),t._v(" "),r("album-list",{attrs:{"page-data":t.data,tid:t.pageQuery.t,o:t.pageQuery.o}})],1)],1)],1),t._v(" "),r("v-col",{staticClass:"hidden-md-and-down",attrs:{lg:"3",md:"0"}},[r("hot")],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBreadcrumbs:_.a,VCard:k.a,VCol:w.a,VRow:$.a,VSkeletonLoader:x.a})}}]);